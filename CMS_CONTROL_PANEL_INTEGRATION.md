# CMS Control Panel Integration

## Overview

The RaCore Control Panel has been fully integrated into the CMS generated by SiteBuilder. This allows resellers and site administrators to access advanced management features directly from their CMS homepage.

## Integration Details

### Changes Made

1. **CMS Homepage (index.php)**
   - Added navigation bar with links to:
     - Home
     - Admin Panel
     - RaCore Control Panel (opens in new tab)
   - Added footer with quick link to control panel
   - Modern, professional layout with integrated navigation

2. **Admin Panel (admin.php)**
   - Enhanced admin login page with modern styling
   - Added quick actions section with prominent link to RaCore Control Panel
   - Displays control panel capabilities:
     - User & Role Management
     - License Management
     - RaCoin Wallet Management
     - Game Server Configuration
     - Forum Moderation
   - Integrated navigation consistent with homepage

3. **Styling (styles.css)**
   - Updated with modern navigation bar
   - Responsive design for all screen sizes
   - Gradient theme consistent with RaCore branding
   - Professional footer styling

## Hierarchy for Reseller CMS

The integrated control panel supports a simplified hierarchy for reseller sites:

### Role Structure

1. **User** (Level 0)
   - Basic site access
   - View own profile and content
   - Forum participation

2. **Forum Moderator** (Level 5)
   - Moderate forum posts
   - Issue warnings to users
   - Ban/unban users
   - Lock/unlock threads
   - View forum statistics

3. **Licensed Admin** (Level 1)
   - User management (create, edit, delete)
   - License assignment
   - RaCoin top-ups
   - Basic site configuration
   - Access to all User and Forum Moderator features

### For Full Site Owners

Additional roles available for main AGPStudios platform:

4. **Admin** (Level 1)
   - Full user and license management
   - RaCoin management
   - System configuration

5. **SuperAdmin** (Level 2)
   - Full system access
   - Security audit logs
   - System configuration
   - Role management

6. **Game Master** (Level 3)
   - Game content management
   - Scene and entity management
   - Quest system management

7. **Game Monitor** (Level 4)
   - Read-only game server monitoring
   - Performance metrics
   - Player statistics

## Access Methods

### From CMS Homepage
1. Navigate to CMS homepage (e.g., `http://localhost/cms/index.php`)
2. Click "RaCore Control Panel" in navigation bar
3. Login with credentials
4. Access full control panel features

### From Admin Panel
1. Login to CMS admin panel (`http://localhost/cms/admin.php`)
2. Click "Open RaCore Control Panel" button
3. Access advanced management features

### Direct Access
- Navigate directly to `http://localhost/control-panel.html`
- Or `http://agpstudios.online/control-panel.html` for production

## Benefits

✅ **Seamless Integration** - Control panel accessible from CMS without separate login  
✅ **Unified Experience** - Consistent branding and navigation  
✅ **Simplified Management** - One-stop portal for all administrative tasks  
✅ **Role-Based Access** - Appropriate features shown based on user role  
✅ **Professional Appearance** - Modern, responsive design  
✅ **Easy Navigation** - Clear paths to all management features  

## Technical Implementation

### File Locations

```
RaCore/
├── wwwroot/
│   ├── control-panel.html         # Main control panel
│   ├── js/
│   │   ├── control-panel-api.js   # API client
│   │   └── control-panel-ui.js    # UI manager
│   └── index.html                 # Landing page
└── Modules/Extensions/SiteBuilder/
    └── CmsGenerator.cs            # Generates integrated CMS
```

### Generated CMS Structure

```
cms/
├── index.php         # Homepage with control panel links
├── admin.php         # Admin panel with control panel integration
├── config.php        # Database configuration
├── db.php            # Database layer
└── styles.css        # Integrated styling
```

## Future Enhancements

Planned improvements:
- [ ] Single sign-on (SSO) between CMS and control panel
- [ ] Embedded control panel iframe within CMS admin
- [ ] Real-time sync between CMS users and RaCore users
- [ ] Custom role mapping for resellers
- [ ] White-label control panel branding
- [ ] API key generation for automated management

## Documentation

For more information:
- Control Panel Architecture: `CONTROL_PANEL_MODULES.md`
- SiteBuilder Documentation: `RaCore/Modules/Extensions/SiteBuilder/README.md`
- Phase 4.3 Summary: `PHASE4_3_COMPLETE_SUMMARY.md`

---

**Status:** ✅ COMPLETE  
**Version:** 4.3  
**Last Updated:** 2025-01-05
